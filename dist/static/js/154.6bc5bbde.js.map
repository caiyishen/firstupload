{"version":3,"file":"static/js/154.6bc5bbde.js","mappings":"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","sources":["webpack://hello-world/./src/views/Login/index.vue","webpack://hello-world/./src/utils/secret.js","webpack://hello-world/src/views/Login/index.vue","webpack://hello-world/./src/views/Login/index.vue?db08","webpack://hello-world/./src/views/Login/index.vue?8e58"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-wrapper\"},[_c('div',{staticClass:\"login-box\"},[_c('a-form-model',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleLogin.apply(null, arguments)}}},[_c('a-form-model-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('a-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('a-input-password',{model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('a-row',[_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"验证码\"}},[_c('a-input',{model:{value:(_vm.inputCode),callback:function ($$v) {_vm.inputCode=$$v},expression:\"inputCode\"}})],1)],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"图片\"}},[(_vm.randCodeImage)?_c('img',{staticStyle:{\"width\":\"60%\",\"height\":\"30px\"},attrs:{\"src\":_vm.randCodeImage,\"alt\":\"\"},on:{\"click\":_vm.getCodeImage}}):_c('span',{on:{\"click\":_vm.getCodeImage}},[_vm._v(\"请刷新图片\")])])],1)],1),_c('a-form-model-item',[_c('a-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"default\",\"loading\":_vm.loading},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登录\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import CryptoJS from 'crypto-js'\n\nconst key = CryptoJS.enc.Utf8.parse('ey65gregerge6@rg') // 十六位十六进制数作为密钥\n\n// 解密方法\nexport function Decrypt(word) {\n  let encryptedHexStr = CryptoJS.enc.Hex.parse(word)\n  let srcs = CryptoJS.enc.Base64.stringify(encryptedHexStr)\n  let decrypt = CryptoJS.AES.decrypt(srcs, key, { undefined, mode: CryptoJS.mode.CBC, padding: CryptoJS.pad.Pkcs7 })\n  let decryptedStr = decrypt.toString(CryptoJS.enc.Utf8)\n  return decryptedStr.toString()\n}\n\n// 加密方法\nexport function Encrypt(content) {\n  let keyStr = key\n  let srcs = CryptoJS.enc.Utf8.parse(content)\n  let encrypted = CryptoJS.AES.encrypt(srcs, keyStr, { undefined, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 })\n  return encrypted.toString()\n}\n","<template>\n  <div class=\"login-wrapper\">\n    <div class=\"login-box\">\n      <a-form-model ref='form'\n                    :rules='rules'\n                    @keyup.enter.native='handleLogin'\n                    :model='form'>\n        <a-form-model-item label='账号'\n                           prop='username'>\n          <a-input v-model=\"form.username\"></a-input>\n\n        </a-form-model-item>\n        <a-form-model-item label='密码'\n                           prop='password'>\n          <a-input-password v-model=\"form.password\"></a-input-password>\n        </a-form-model-item>\n        <a-row>\n          <a-col :span='12'>\n            <a-form-model-item label='验证码'>\n              <a-input v-model=\"inputCode\"></a-input>\n            </a-form-model-item>\n          </a-col>\n          <a-col :span='12'>\n            <a-form-model-item label='图片'>\n              <img :src=\"randCodeImage\"\n                   alt=\"\"\n                   style=\"width:60%;height:30px\"\n                   v-if=\"randCodeImage\"\n                   @click=\"getCodeImage\">\n              <span v-else\n                    @click=\"getCodeImage\">请刷新图片</span>\n            </a-form-model-item>\n          </a-col>\n        </a-row>\n        <a-form-model-item>\n          <a-button type='default'\n                    :loading='loading'\n                    style=\"width:100%\"\n                    @click=\"handleLogin\">登录</a-button>\n        </a-form-model-item>\n      </a-form-model>\n    </div>\n\n  </div>\n</template>\n<script>\nimport { getLoginCode } from '@/api/login/index.js'\nimport { mapActions } from 'vuex'\nimport { Encrypt } from '@/utils/secret.js'\nexport default {\n  name: 'Login',\n  components: {},\n  data () {\n    return {\n      rules: {\n        username: {\n          required: true, message: '必填', trigger: 'blur'\n        },\n        password: {\n          required: true, message: '必填', trigger: 'blur'\n        }\n      },\n      form: {\n        username: 'admin',\n        password: 'qaz123456@'\n      },\n      inputCode: '',\n      randCodeImage: '',//验证码图片\n      requestCodeSuccess: false,\n      loading: false,\n      currdatetime: null\n    }\n  },\n  mounted () {\n    this.init()\n  },\n  watch: {\n\n  },\n  computed: {\n\n  },\n  methods: {\n    ...mapActions('user', ['Login']),\n    init () {\n      this.getCodeImage()\n    },\n    //获取验证码\n    getCodeImage () {\n      this.currdatetime = new Date().getTime()\n      getLoginCode(this.currdatetime).then(res => {\n        this.randCodeImage = res.result\n      })\n    },\n    //登录\n    handleLogin () {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.loading = true\n          let params = {\n            ...this.form\n          }\n          //加密\n          params.password = Encrypt(this.form.password)\n          params.checkKey = this.currdatetime\n          params.captcha = this.inputCode\n          this.Login(params).then(res => {\n            this.$notification.success({\n              message: '欢迎',\n              description: `欢迎回来`\n            })\n          }).finally(() => {\n            this.loading = false\n          }).catch(err => {\n            this.getCodeImage()\n          })\n        }\n      })\n\n    }\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.login-wrapper {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  // background: skyblue;\n  background: url(\"@/assets/logo.png\") no-repeat;\n  background-size: 100% 100%;\n  .login-box {\n    width: 600px;\n    height: 600px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7544e1c1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7544e1c1&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7544e1c1\",\n  null\n  \n)\n\nexport default component.exports"],"names":["key","CryptoJS","name","components","data","rules","username","required","message","trigger","password","form","inputCode","randCodeImage","requestCodeSuccess","loading","currdatetime","mounted","watch","computed","methods","init","getCodeImage","getLoginCode","handleLogin","params","content","keyStr","srcs","undefined","mode","padding","toString","description","component","_vm","this","_c","_self","staticClass","ref","attrs","nativeOn","$event","type","indexOf","_k","keyCode","apply","arguments","model","value","callback","$$v","$set","expression","staticStyle","on","_v"],"sourceRoot":""}